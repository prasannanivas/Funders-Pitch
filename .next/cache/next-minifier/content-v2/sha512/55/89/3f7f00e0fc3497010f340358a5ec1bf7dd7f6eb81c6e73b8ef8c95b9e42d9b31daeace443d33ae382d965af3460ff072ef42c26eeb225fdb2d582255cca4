{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{\"6tTv\":function(t,e,n){\"use strict\";n.r(e);var a=n(\"o0o1\"),r=n.n(a),s=n(\"HaE+\"),i=n(\"1OyB\"),u=n(\"vuIU\"),c=n(\"JX7q\"),o=n(\"Ji7U\"),l=n(\"md7G\"),p=n(\"foSv\"),d=n(\"q1tI\"),f=n.n(d),h=n(\"5Yp1\"),v=n(\"QetY\"),b=n(\"vFsZ\"),m=n(\"umxb\"),g=n(\"VC3L\"),w=n(\"oZBQ\"),y=n(\"8cHP\"),k=f.a.createElement;function x(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(p.a)(t);if(e){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(l.a)(this,n)}}var O=function(t){Object(o.a)(n,t);var e=x(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).state={description:\"\",value:\"\",recipient:\"\",message:\"\",isloading:!1},a.submitHandler=a.submitHandler.bind(Object(c.a)(a)),a}return Object(u.a)(n,[{key:\"submitHandler\",value:function(){var t=Object(s.a)(r.a.mark((function t(e){var n,a,s,i,u,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),this.setState({isloading:!0}),n=Object(g.a)(this.props.address),a=this.state,s=a.description,i=a.value,u=a.recipient,t.prev=4,t.next=7,w.a.eth.getAccounts();case 7:return c=t.sent,t.next=10,n.methods.createRequest(s,w.a.utils.toWei(i,\"ether\"),u).send({from:c[0]});case 10:t.next=16;break;case 12:return t.prev=12,t.t0=t.catch(4),this.setState({message:t.t0.message,isloading:!1}),t.abrupt(\"return\");case 16:this.setState({isloading:!1}),y.Router.pushRoute(\"/campaigns/show/\".concat(this.props.address,\"/request\"));case 18:case\"end\":return t.stop()}}),t,this,[[4,12]])})));return function(e){return t.apply(this,arguments)}}()},{key:\"render\",value:function(){var t=this;return k(h.a,null,k(y.Link,{primary:!0,route:\"/campaigns/show/\".concat(this.props.address,\"/request\")},k(\"a\",null,\" \",k(v.a,{color:\"vk\",size:\"mini\"},\"<-  go back\"),\" \")),k(b.a,{className:\"text-center\",onSubmit:this.submitHandler},k(b.a.Field,null,k(\"label\",null,\"Description\"),k(m.a,{onChange:function(e){t.setState({description:e.target.value})},value:this.state.description})),k(b.a.Field,null,k(\"label\",null,\"Value\"),k(m.a,{label:\"ether\",labelPosition:\"right\",onChange:function(e){t.setState({value:e.target.value})},value:this.state.value,type:\"number\"})),k(b.a.Field,null,k(\"label\",null,\"Recipient\"),k(m.a,{onChange:function(e){t.setState({recipient:e.target.value})},value:this.state.recipient})),k(v.a,{color:\"teal\",loading:this.state.isloading},\"Submit\"),k(\"h1\",{className:\"font-bold text-2xl text-red-400\"},this.state.message)))}}],[{key:\"getInitialProps\",value:function(){var t=Object(s.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt(\"return\",{address:e.query.address});case 1:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),n}(d.Component);e.default=O},r4RE:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/Campaigns/newrequest\",function(){return n(\"6tTv\")}])}},[[\"r4RE\",0,2,1,3,4,5]]]);","extractedComments":[]}