{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{\"3PwY\":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/Campaigns/show\",function(){return a(\"427V\")}])},\"427V\":function(e,t,a){\"use strict\";a.r(t);var r=a(\"o0o1\"),s=a.n(r),n=a(\"HaE+\"),o=a(\"1OyB\"),i=a(\"vuIU\"),c=a(\"Ji7U\"),u=a(\"md7G\"),l=a(\"foSv\"),p=a(\"q1tI\"),d=a.n(p),m=a(\"JX7q\"),h=a(\"vFsZ\"),v=a(\"umxb\"),f=a(\"QetY\"),b=a(\"VC3L\"),x=a(\"oZBQ\"),g=a(\"8cHP\"),w=d.a.createElement;function y(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Object(l.a)(e);if(t){var s=Object(l.a)(this).constructor;a=Reflect.construct(r,arguments,s)}else a=r.apply(this,arguments);return Object(u.a)(this,a)}}var N=function(e){Object(c.a)(a,e);var t=y(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={isloading:!1,value:\"\",message:\"\"},r.submitHandler=r.submitHandler.bind(Object(m.a)(r)),r}return Object(i.a)(a,[{key:\"submitHandler\",value:function(){var e=Object(n.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.setState({isloading:!0,message:\"Waiting for confirmation....\"}),a=Object(b.a)(this.props.address),e.prev=3,e.next=6,x.a.eth.getAccounts();case 6:return r=e.sent,e.next=9,a.methods.contribute().send({from:r[0],value:x.a.utils.toWei(this.state.value,\"ether\")});case 9:g.Router.replaceRoute(\"/campaigns/show/\".concat(this.props.address)),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(3),console.log(e.t0),this.setState({message:e.t0.message,isloading:!1,value:\"\"}),e.abrupt(\"return\");case 17:this.setState({isloading:!1,value:\"\",message:\"Thank you so much for contributing.  Thanks!\"}),g.Router.pushRoute(\"/Campaigns/show/\".concat(this.props.address));case 19:case\"end\":return e.stop()}}),e,this,[[3,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:\"render\",value:function(){var e=this;return w(h.a,{onSubmit:this.submitHandler},w(h.a.Field,null,w(\"label\",null,\"Amount to contribute\"),w(v.a,{type:\"decimal\",label:\"ether\",size:\"massive\",value:this.state.value,onChange:function(t){e.setState({value:t.target.value})},labelPosition:\"right\"}),w(f.a,{color:\"olive\",loading:this.state.isloading,size:\"large\"},\"Contribute\"),w(\"h1\",{className:\"text-green-500 text-2xl font-bold\"},this.state.message)))}}]),a}(p.Component),j=a(\"5Yp1\"),O=a(\"Xrmj\"),C=d.a.createElement;function R(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Object(l.a)(e);if(t){var s=Object(l.a)(this).constructor;a=Reflect.construct(r,arguments,s)}else a=r.apply(this,arguments);return Object(u.a)(this,a)}}var k=function(e){Object(c.a)(a,e);var t=R(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:\"render\",value:function(){return C(j.a,null,C(\"div\",{className:\"text-center rounded overflow-hidden shadow-2xl \"},C(\"div\",{className:\"text-4xl m-5 text-gray-800\"},this.props.projectTitle),C(\"div\",{className:\"p-10 m-10 flex flex-wrap text-center justify-center\"},C(\"div\",{className:\"w-4/5 p-5\"},C(N,{address:this.props.address})),C(\"div\",{className:\"w-4/5\"},C(g.Link,{route:\"/campaigns/show/\".concat(this.props.address,\"/request\")},C(f.a,{size:\"massive\",color:\"linkedin\"},\"Requests\"))),C(\"div\",{className:\"w-1/2 text-center rounded overflow-hidden shadow-2xl hover:bg-purple-800\"},C(\"div\",{className:\"p-5 m-5\"},C(\"div\",{className:\"font-bold text-xs mb-2\"},\"Manager : \",this.props.manager),C(\"p\",{className:\"text-gray-700 text-base\"},\"manager is the person who deployed this contract\"))),C(\"div\",{className:\"w-1/2 text-center rounded overflow-hidden shadow-2xl hover:bg-purple-800\"},C(\"div\",{className:\"p-5 m-5\"},C(\"p\",{className:\"text-green-500 text-4xl text-base hover:text-white\"},\"Contract Balance : \",this.props.balance/1e17,\" \",\"ether\"),C(\"p\",{className:\"text-gray-700 text-base\"},\"Pending balance allows yoo to .......\"))),C(\"div\",{className:\"w-1/2 text-center rounded overflow-hidden shadow-2xl hover:bg-purple-800\"},C(\"div\",{className:\"p-5 m-5\"},C(\"p\",{className:\"text-red-700 text-base\"},\"Number of requests : \",this.props.requestsCount),C(\"p\",{className:\"text-gray-700 text-base\"},\"This contract has these many request counts\"))),C(\"div\",{className:\"w-1/2 text-center rounded overflow-hidden shadow-2xl hover:bg-purple-800\"},C(\"div\",{className:\"p-5 m-5\"},C(\"p\",{className:\"text-green-500 text-2xl text-base hover:text-white\"},\"Approvers : \",this.props.approversCount),C(\"p\",{className:\"text-gray-700 text-base\"},\"Must have minimum approvers\"))),C(\"div\",{className:\"w-1/2 text-center rounded overflow-hidden shadow-2xl hover:bg-purple-800\"},C(\"div\",{className:\"p-5 m-5\"},C(\"p\",{className:\"text-green-500 text-2xl font-bold hover:text-white text-base\"},\"Minimum Contribution: \",this.props.minimumContribution),C(\"p\",{className:\"text-gray-700 text-base\"},\"This contract is laid a minimum contribution\"))))))}}],[{key:\"getInitialProps\",value:function(){var e=Object(n.a)(s.a.mark((function e(t){var a,r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s=t.query.address,new x.a.eth.Contract(JSON.parse(O.interface),s);case 2:return a=e.sent,e.next=5,a.methods.getSummary().call();case 5:return r=e.sent,e.next=8,a.methods.manager().call();case 8:return n=e.sent,console.log(\"manager is \",n),console.log(r),e.abrupt(\"return\",{minimumContribution:r[0],balance:r[1],requestsCount:r[2],approversCount:r[3],manager:r[4],projectTitle:r[5],projectDescription:r[6],projectPromise:r[7],address:t.query.address});case 12:case\"end\":return e.stop()}var s}),e)})));return function(t){return e.apply(this,arguments)}}()}]),a}(p.Component);t.default=k}},[[\"3PwY\",0,2,1,3,4,5]]]);","extractedComments":[]}